import java.util.Scanner;


public class TicTacToe_8_9 {

	public static void main(String[] args) {
		Scanner input = new Scanner(System.in);
		Character[][] ttt = new Character[3][3];
		Integer x, y;
		String winner = "The winner is ";
		Boolean tie = false;
		
		while(winCheckerX(ttt) == false && winCheckerO(ttt) == false && tie != true){
			for (int i = 0; i < 9; i++){
				if (winCheckerX(ttt) == false && winCheckerO(ttt) == false && i < 8){
					System.out.println("Enter a row (0, 1, or 2) for player X: ");
					x = input.nextInt();
					System.out.println("Enter a column (0, 1, or 2) for player X: ");
					y = input.nextInt();
					ttt[x][y] = 'X';
					if(winCheckerX(ttt)){
						winner += "X!";
					}
					
					System.out.println("Enter a row (0, 1, or 2) for player O: ");
					x = input.nextInt();
					System.out.println("Enter a column (0, 1, or 2) for player O: ");
					y = input.nextInt();
					ttt[x][y] = 'O';
					if(winCheckerO(ttt)){
						winner += "O!";
					}
				}
				else if (winCheckerX(ttt) == false && winCheckerO(ttt) == false && i == 8){
					tie = true;
					winner += "Nobody!";
				}
			}
		}
		System.out.println(winner);
		input.close();
	}

	public static Boolean winCheckerX(Character[][] ttt){

		if(ttt == null){
			return false;
		}
		else if (ttt[0][0] == 'X' && ttt[0][1] == 'X' && ttt[0][2] == 'X'){
			return true;
		}
		
		else if (ttt[1][0] == 'X' && ttt[1][1] == 'X' && ttt[1][2] == 'X'){
			return true;
		}
		
		else if (ttt[2][0] == 'X' && ttt[2][1] == 'X' && ttt[2][2] == 'X'){
			return true;
		}
		
		else if (ttt[0][0] == 'X' && ttt[1][0] == 'X' && ttt[2][0] == 'X'){
			return true;
		}
		
		else if (ttt[0][1] == 'X' && ttt[1][1] == 'X' && ttt[2][1] == 'X'){
			return true;
		}
		
		else if (ttt[0][2] == 'X' && ttt[1][2] == 'X' && ttt[2][2] == 'X'){
			return true;
		}
		
		else if (ttt[0][0] == 'X' && ttt[1][1] == 'X' && ttt[2][2] == 'X'){
			return true;
		}
		
		else if (ttt[0][2] == 'X' && ttt[1][1] == 'X' && ttt[2][0] == 'X'){
			return true;
		}

		else{
			return false;
		}

	}
	
	public static Boolean winCheckerO(Character[][] ttt){
		
		if(ttt == null){
			return false;
		}
		else if (ttt[0][0] == 'O' && ttt[0][1] == 'O' && ttt[0][2] == 'O'){
			return true;
		}
		
		else if (ttt[1][0] == 'O' && ttt[1][1] == 'O' && ttt[1][2] == 'O'){
			return true;
		}
		
		else if (ttt[2][0] == 'O' && ttt[2][1] == 'O' && ttt[2][2] == 'O'){
			return true;
		}
		
		else if (ttt[0][0] == 'O' && ttt[1][0] == 'O' && ttt[2][0] == 'O'){
			return true;
		}
		
		else if (ttt[0][1] == 'O' && ttt[1][1] == 'O' && ttt[2][1] == 'O'){
			return true;
		}
		
		else if (ttt[0][2] == 'O' && ttt[1][2] == 'O' && ttt[2][2] == 'O'){
			return true;
		}
		
		else if (ttt[0][0] == 'O' && ttt[1][1] == 'O' && ttt[2][2] == 'O'){
			return true;
		}
		
		else if (ttt[0][2] == 'O' && ttt[1][1] == 'O' && ttt[2][0] == 'O'){
			return true;
		}
		else{
			return false;
		}
	}
}
